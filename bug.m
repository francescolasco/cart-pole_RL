% bug
clear all
close all
clc

s = [0.0224    0.0015    3.1933    0.0182];
cellX = [   -2.4000   -2.0000   -1.6000   -1.2000   -0.8000   -0.4000    0.0000    0.4000    0.8000    1.2000    1.6000    2.0000
   -2.3600   -1.9600   -1.5600   -1.1600   -0.7600   -0.3600    0.0400    0.4400    0.8400    1.2400    1.6400    2.0400
   -2.3200   -1.9200   -1.5200   -1.1200   -0.7200   -0.3200    0.0800    0.4800    0.8800    1.2800    1.6800    2.0800
   -2.2800   -1.8800   -1.4800   -1.0800   -0.6800   -0.2800    0.1200    0.5200    0.9200    1.3200    1.7200    2.1200
   -2.2400   -1.8400   -1.4400   -1.0400   -0.6400   -0.2400    0.1600    0.5600    0.9600    1.3600    1.7600    2.1600
   -2.2000   -1.8000   -1.4000   -1.0000   -0.6000   -0.2000    0.2000    0.6000    1.0000    1.4000    1.8000    2.2000
   -2.1600   -1.7600   -1.3600   -0.9600   -0.5600   -0.1600    0.2400    0.6400    1.0400    1.4400    1.8400    2.2400
   -2.1200   -1.7200   -1.3200   -0.9200   -0.5200   -0.1200    0.2800    0.6800    1.0800    1.4800    1.8800    2.2800
   -2.0800   -1.6800   -1.2800   -0.8800   -0.4800   -0.0800    0.3200    0.7200    1.1200    1.5200    1.9200    2.3200
   -2.0400   -1.6400   -1.2400   -0.8400   -0.4400   -0.0400    0.3600    0.7600    1.1600    1.5600    1.9600    2.3600];
cellV = [-24.0000  -20.0000  -16.0000  -12.0000   -8.0000   -4.0000         0    4.0000    8.0000   12.0000   16.0000   20.0000
  -23.8667  -19.8667  -15.8667  -11.8667   -7.8667   -3.8667    0.1333    4.1333    8.1333   12.1333   16.1333   20.1333
  -23.7333  -19.7333  -15.7333  -11.7333   -7.7333   -3.7333    0.2667    4.2667    8.2667   12.2667   16.2667   20.2667
  -23.6000  -19.6000  -15.6000  -11.6000   -7.6000   -3.6000    0.4000    4.4000    8.4000   12.4000   16.4000   20.4000
  -23.4667  -19.4667  -15.4667  -11.4667   -7.4667   -3.4667    0.5333    4.5333    8.5333   12.5333   16.5333   20.5333
  -23.3333  -19.3333  -15.3333  -11.3333   -7.3333   -3.3333    0.6667    4.6667    8.6667   12.6667   16.6667   20.6667
  -23.2000  -19.2000  -15.2000  -11.2000   -7.2000   -3.2000    0.8000    4.8000    8.8000   12.8000   16.8000   20.8000
  -23.0667  -19.0667  -15.0667  -11.0667   -7.0667   -3.0667    0.9333    4.9333    8.9333   12.9333   16.9333   20.9333
  -22.9333  -18.9333  -14.9333  -10.9333   -6.9333   -2.9333    1.0667    5.0667    9.0667   13.0667   17.0667   21.0667
  -22.8000  -18.8000  -14.8000  -10.8000   -6.8000   -2.8000    1.2000    5.2000    9.2000   13.2000   17.2000   21.2000];

cellTHETA = [3.0816    3.0916    3.1016    3.1116    3.1216    3.1316    3.1416    3.1516    3.1616    3.1716    3.1816    3.1916
    3.0826    3.0926    3.1026    3.1126    3.1226    3.1326    3.1426    3.1526    3.1626    3.1726    3.1826    3.1926
    3.0836    3.0936    3.1036    3.1136    3.1236    3.1336    3.1436    3.1536    3.1636    3.1736    3.1836    3.1936
    3.0846    3.0946    3.1046    3.1146    3.1246    3.1346    3.1446    3.1546    3.1646    3.1746    3.1846    3.1946
    3.0856    3.0956    3.1056    3.1156    3.1256    3.1356    3.1456    3.1556    3.1656    3.1756    3.1856    3.1956
    3.0866    3.0966    3.1066    3.1166    3.1266    3.1366    3.1466    3.1566    3.1666    3.1766    3.1866    3.1966
    3.0876    3.0976    3.1076    3.1176    3.1276    3.1376    3.1476    3.1576    3.1676    3.1776    3.1876    3.1976
    3.0886    3.0986    3.1086    3.1186    3.1286    3.1386    3.1486    3.1586    3.1686    3.1786    3.1886    3.1986
    3.0896    3.0996    3.1096    3.1196    3.1296    3.1396    3.1496    3.1596    3.1696    3.1796    3.1896    3.1996
    3.0906    3.1006    3.1106    3.1206    3.1306    3.1406    3.1506    3.1606    3.1706    3.1806    3.1906    3.2006];

cellOMEGA = [-24.0000  -20.0000  -16.0000  -12.0000   -8.0000   -4.0000         0    4.0000    8.0000   12.0000   16.0000   20.0000
  -23.8667  -19.8667  -15.8667  -11.8667   -7.8667   -3.8667    0.1333    4.1333    8.1333   12.1333   16.1333   20.1333
  -23.7333  -19.7333  -15.7333  -11.7333   -7.7333   -3.7333    0.2667    4.2667    8.2667   12.2667   16.2667   20.2667
  -23.6000  -19.6000  -15.6000  -11.6000   -7.6000   -3.6000    0.4000    4.4000    8.4000   12.4000   16.4000   20.4000
  -23.4667  -19.4667  -15.4667  -11.4667   -7.4667   -3.4667    0.5333    4.5333    8.5333   12.5333   16.5333   20.5333
  -23.3333  -19.3333  -15.3333  -11.3333   -7.3333   -3.3333    0.6667    4.6667    8.6667   12.6667   16.6667   20.6667
  -23.2000  -19.2000  -15.2000  -11.2000   -7.2000   -3.2000    0.8000    4.8000    8.8000   12.8000   16.8000   20.8000
  -23.0667  -19.0667  -15.0667  -11.0667   -7.0667   -3.0667    0.9333    4.9333    8.9333   12.9333   16.9333   20.9333
  -22.9333  -18.9333  -14.9333  -10.9333   -6.9333   -2.9333    1.0667    5.0667    9.0667   13.0667   17.0667   21.0667
  -22.8000  -18.8000  -14.8000  -10.8000   -6.8000   -2.8000    1.2000    5.2000    9.2000   13.2000   17.2000   21.2000
];

M = 10;

N = 10;

get_features(s, cellX, cellV, cellTHETA, cellOMEGA, M, N)